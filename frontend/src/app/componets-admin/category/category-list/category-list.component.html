<!-- Tiêu đề và thanh tìm kiếm -->
<div class="header">
  <h2>Quản lý danh mục sản phẩm</h2>

  <form class="heheadmin" (submit)="onSearch(); $event.preventDefault()">
    <input
      placeholder="Tìm kiếm danh mục sản phẩm"
      type="text"
      name="keyword"
      [(ngModel)]="keyword"
      (ngModelChange)="onSearch()" />
    <a href="javascript:void(0)">
      <i class="lni lni-search-alt"></i>
    </a>
  </form>
</div>
<br>
<!-- Bảng danh mục sản phẩm -->
<div class="product-table">
  <table class="table table-striped table-secondary">
    <thead>
      <tr>
        <th style="width: 5%">ID</th>
        <th style="width: 25%">Tên danh mục</th>
        <th style="width: 30%">Hình ảnh</th>
        <th style="width: 40%">Hành động</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let category of filteredCategories | paginate: { itemsPerPage: 6, currentPage: p }; index as i">
        <td>{{ i + 1 }}</td>
        <td>{{ category.nameCategory }}</td>
        <td>
          <img
            [src]="category.imageCategory || getDefaultImage()"
            [alt]="category.nameCategory"
            style="max-width: 100px; max-height: 100px; object-fit: contain; border-radius: 4px; background-color: #f0f0f0;"
            (error)="onImageError($event)"
          />
        </td>
        <td>
          <a
            [routerLink]="['/admin/category-edit/', category._id]"
            class="btn btn-sm btn-outline-warning me-2"
            title="Chỉnh sửa">
            <i class="fas fa-edit"></i>
          </a>
          <button
            (click)="onDelete(category._id)"
            class="btn btn-sm btn-outline-danger"
            title="Xoá">
            <i class="fas fa-trash-alt"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- Pagination dưới bảng -->
<div class="pagination">
  <pagination-controls (pageChange)="p = $event"></pagination-controls>
</div>
